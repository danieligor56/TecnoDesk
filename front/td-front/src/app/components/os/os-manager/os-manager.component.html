<div class="container">
    
    <div class="titPage" style="padding:5px;margin-bottom: 10px;">
        <h1 id="osH1">Ordem de serviço</h1>       
    </div>

    <mat-tab-group mat-align-tabs="start" animationDuration="500ms" class="mat-elevation-z4" style="overflow: hidden;">

        <mat-tab label="Ordem de serviço">
            <div class="tab-content" style="display: flex;">
                
                <div class="os-dados">                   
                    <div class="cliente-os">
                        <h3 style="margin-bottom: 0px;">Cliente</h3>
                        <!-- Primeira linha: Nome e Código -->
                        <div class="row">
                            <div class="input-group">
                                <label for="cliente">Nome:</label>
                                <input type="text" id="cliente" [value]="Os?.cliente?.nome" readonly>   
                            </div>
                            <div class="input-group" style="width: 80px;">
                                <label for="cod">Cod.:</label>
                                <input type="text" id="cod" [value]="Os?.cliente?.id" readonly>
                            </div>
                        </div>

                        <!-- Segunda linha: Endereço e Telefone -->
                        <div class="row">
                            <div class="input-group">
                                <label for="telefone">Telefone:</label>
                                <input type="text" id="telefone" [value]="Os?.cliente?.cel1" readonly>
                            </div>
                            <div class="input-group"  style="width: 250px;">
                                <label for="endereco">Endereço:</label>
                                <input type="text" id="endereco" [value]="Os?.cliente?.logradouro + ', ' + Os?.cliente?.numero" readonly>
                            </div>                        
                        </div>

                        <!-- Terceira linha: Documento e Email -->
                        <div class="row">
                            <div class="input-group">
                                <label for="documento">Documento:</label>
                                <input type="text" id="documento" [value]="Os?.cliente?.documento" readonly>
                            </div>
                            <div class="input-group">
                                <label for="email">Email:</label>
                                <input type="text" id="email" [value]="Os?.cliente?.email" readonly>
                            </div>
                        </div>
                    </div>

                    <div  id="parametros-os">
                        <h3>Parametros OS</h3>
                        <div style="width: 250px;margin-bottom: 1rem;">                  
                            <div class="input-group">
                                <label for="telefone">Responsável pela abertura da Ordem de serviço:</label>
                                <input type="text" id="telefone" [value]="Os?.colaborador?.nome" readonly width="80px">
                            </div>
    
                            <div class="input-group" style="margin-bottom: 2rem;">                              
                                <mat-form-field appearance="legacy">
                                    <label for="telefone">Responsável técnico:</label>
                                        <mat-select (selectionChange)="onColaboradorChange($event.value)">
                                            <mat-option  *ngFor="let colaborador of colaboradores" [value]="colaborador.id">
                                            {{ colaborador.nome }}
                                            </mat-option>
                                        </mat-select>
                                  </mat-form-field>
                                <!-- <input type="text" id="telefone" value="" readonly> -->
                            </div>
    
                            <div class="input-group">
                                <mat-form-field appearance="legacy" style="margin-right: 10px;">
                                    <label for="telefone">Tipo de prioridade: </label>
                                    <mat-select>
                                      <mat-option value= 0  >Normal</mat-option>
                                      <mat-option value= 1  >Urgência</mat-option>
                                      <mat-option value= 2  >Garantia</mat-option>
                                    </mat-select>
                                  </mat-form-field>
                            </div>
    
                            
                        </div>
    
                      </div>
                                         
                </div>

                 
                <div class="rec-cli" style="margin-left: 30px;margin-top: 20px;">
                    <h3 style="margin-bottom: 5px;">Resumo do problema</h3>
                    
                    <div>
                        <div>
                            <mat-form-field class="dataCli" style="width: 400px; margin-right: 10px;" appearance="fill">
                                <mat-label>Reclamação do cliente:</mat-label>
                                <textarea style="resize: none; height: 1 rem;" matInput placeholder="" readonly>{{Os?.reclamacaoCliente}}</textarea>                               
                            </mat-form-field>    
                        </div>
                        <div>
                            <mat-form-field class="dataCli" style="width: 400px;" appearance="fill">
                                <mat-label>Resultado do teste inicial:</mat-label>
                                <textarea style="resize: none; height: 8px;" matInput placeholder="" readonly>{{Os?.initTest}}</textarea>
                            </mat-form-field>    
                        </div>
                        
                        <div id="containerImgOsManager">
                            <img src="/assets/img/img-manager-os.svg" alt="" id="imgOsManager">
                        </div>
                        

                  </div>
                  
                 
                        
                                        
                                       
                </div>
                
            </div>
        </mat-tab>

        <!-- Aba de Dados do Equipamento -->
         
        <mat-tab label="Equipamento" style="overflow: none;">
            
            <div class="tab-content" style="display: flex;">
                <div class="equipamento-dados">
                    <!-- <h3>Dados do Equipamento:</h3> -->
                    <div class="equip-os">
                        <h3 style="margin-bottom: 0px;">Equipamento</h3>
                         <!-- Segunda linha: Endereço e Telefone  -->
                         <div class="row">
                            <div class="input-group">
                                <label for="telefone">Aparelho:</label>
                                <input type="text" id="telefone" value="{{Os?.aparelhos}}" readonly>
                            </div>
                            <div class="input-group"  style="width: 250px;">
                                <label for="endereco">Marca:</label>
                                <input type="text" id="endereco" value="{{Os?.marcaAparelho}}" readonly>
                            </div>                        
                        </div>
                        <div class="row">
                            <div class="input-group">
                                <label for="documento">Modelo:</label>
                                <input type="text" id="documento" value="{{Os?.descricaoModelo}}" readonly>
                            </div>
                            <div class="input-group">
                                <label for="email">Número de série:</label>
                                <input type="text" id="email" value="{{Os?.snAparelho}}" readonly>
                            </div>
                            
                        </div>
                        <div class="row">
                            <div>
                                <mat-form-field class="dataCli" style="width: 500px;" appearance="fill">
                                    <mat-label>Estado do aparelho:</mat-label>
                                    <textarea style="resize: none;height: 102px;" value="{{Os?.checkList}}" matInput placeholder="" readonly></textarea>
                                    <mat-icon matSuffix>assignment</mat-icon>
                                </mat-form-field>    
                            </div>
                        </div>
                    </div>
                    
                </div>

                <div id="containerImgOsEquip">
                    <img src="/assets/img/img-os-manage-equip.svg" alt="" >
                </div>

            </div>

            

        </mat-tab>

        <!-- Aba de Serviço -->
        <mat-tab label="Serviço">
            <div class="tab-content">
                <div class="servico-dados">            
                        <div id="orcamento">
                            <h3>Orçamento</h3>
                            <div >
                                <button (click)="openListaServicoDialog(Os.numOs)" id="buttons" mat-flat-button>+ Serviço</button>
                                <button (click)="openServicoAvulso()" id="buttons" mat-flat-button>+ Serviço avulso</button>
                                <button  id="buttons" mat-flat-button>+ Produto</button>
                                <button  id="buttons"   mat-flat-button>+ Produto avulso</button>
                            </div>
                            <div id="orca">
                                <h4 style="background-color: #CCCCCC;padding: 6px;">Itens do orçamento:</h4>

                                <table mat-table [dataSource]="dataSource" matSort style="background-color:#CCCCCC;">
                                        
                                        <ng-container matColumnDef="nome">
                                            <th class="custonTh" mat-header-cell *matHeaderCellDef mat-sort-header> Nome serviço </th>
                                            <td mat-cell *matCellDef="let servico"> {{servico.nomeServicoAvulso}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="descricao">
                                            <th class="custonTh" mat-header-cell *matHeaderCellDef mat-sort-header> descrição </th>
                                            <td mat-cell *matCellDef="let servico"> {{servico.descricaoServicoAvulso}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="valor">
                                            <th class="custonTh" mat-header-cell *matHeaderCellDef mat-sort-header> valor total </th>
                                            <td mat-cell *matCellDef="let servico"> {{servico.valorUnidadeAvulso}} </td>
                                        </ng-container>
                                        <ng-container matColumnDef="acoes">
                                            <th class="custonTh" mat-header-cell *matHeaderCellDef mat-sort-header></th>
                                            <td mat-cell *matCellDef="let servico">
                                                <mat-icon style="color: #6D706D;">currency_exchange </mat-icon>
                                                <mat-icon style="color: #6D706D;">delete</mat-icon>
                                            </td>
                                        </ng-container>
                                        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>                                   
                                  </table>

                            </div>              
                        </div>

                    
                    <div id="laudoTecnico">
                        
                        
                        <div>
                            <h3>Laudo técnico</h3>

                            <mat-form-field class="fullWidth" appearance="fill">
                                <mat-label>Diagnóstico Técnico</mat-label>
                                <textarea matInput rows="4" style="resize: none;" placeholder="Informe o diagnóstico técnico detalhado do equipamento, incluindo a descrição do problema identificado e, se aplicável, observações pertinentes ao reparo realizado ou recomendado"></textarea>
                            </mat-form-field>
                        </div>

                        <div class="input-group">
                            <mat-form-field appearance="legacy" style="margin-right: 10px;">
                                <label for="telefone">Status do orçamento: </label>
                                <mat-select>
                                  <mat-option value= 0  >NOVO</mat-option>
                                  <mat-option value= 1  >AGUARDANDO APROVAÇÃO DO CLIENTE</mat-option>
                                  <mat-option value= 2  >Garantia</mat-option>
                                </mat-select>
                              </mat-form-field>
                        </div>
                        

                    </div>
                </div>

                

            </div>
        </mat-tab>
    </mat-tab-group>
</div>